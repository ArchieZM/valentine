<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–î–ª—è –≤–Ω—É–∫–∞ –æ—Ç –î–µ–¥–∞ –≤ —Ç—Ä—É—Å–∞—Ö ‚úâÔ∏è</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Marck+Script&display=swap');
    
    :root {
      --dark: #0a0410;
      --purple: #5a2b82;
      --pink: #ff4d8d;
      --accent: #d926ff;
    }
    
    body {
      background: linear-gradient(135deg, var(--dark) 0%, #1e0a33 100%);
      font-family: 'Playfair Display', serif;
      margin: 0;
      padding: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      color: white;
    }
    
    /* –ö–æ–Ω–≤–µ—Ä—Ç */
    .envelope-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 100;
      pointer-events: none;
      animation: envelopeDisappear 0.5s forwards 2.5s;
    }
    
    .envelope {
      position: relative;
      width: 320px;
      height: 220px;
      background: linear-gradient(145deg, #2a0a4a 0%, #4a1b6e 100%);
      border-radius: 8px;
      box-shadow: 
        0 10px 30px rgba(89, 43, 130, 0.5),
        inset 0 0 20px rgba(217, 38, 255, 0.2);
      transform-style: preserve-3d;
      animation: envelopeFloat 4s ease-in-out infinite;
    }
    
    .envelope:before {
      content: '';
      position: absolute;
      top: 0;
      width: 0;
      height: 0;
      border-left: 160px solid transparent;
      border-right: 160px solid transparent;
      border-top: 90px solid #3a1258;
      transform-origin: top;
      z-index: 2;
      filter: drop-shadow(0 -4px 4px rgba(0,0,0,0.3));
      animation: envelopeFlapOpen 2.5s ease-in-out forwards;
    }
    
    .envelope:after {
      content: '';
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 12px;
      background: linear-gradient(to right, 
        transparent 0%, 
        var(--accent) 50%, 
        transparent 100%);
      opacity: 0.3;
    }
    
    .envelope-stamp {
      position: absolute;
      top: 15px;
      right: 20px;
      width: 50px;
      height: 60px;
      background: linear-gradient(45deg, var(--pink) 0%, var(--accent) 100%);
      border-radius: 4px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 24px;
      color: white;
      transform: rotate(8deg);
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
      z-index: 3;
    }
    
    /* –û—Ç–∫—Ä—ã—Ç–∫–∞ */
    .card {
      position: relative;
      background: linear-gradient(to bottom, 
        rgba(20, 5, 40, 0.95) 0%, 
        rgba(40, 10, 70, 0.95) 100%);
      width: 300px;
      padding: 40px;
      border-radius: 2px;
      box-shadow: 
        0 0 40px rgba(217, 38, 255, 0.3),
        0 0 0 1px rgba(255,255,255,0.1);
      transform: scale(0);
      opacity: 0;
      animation: cardAppear 1.5s cubic-bezier(0.2, 0.9, 0.3, 1.3) forwards 3s;
      border-left: 4px solid var(--pink);
      z-index: 50;
    }
    
    .card:before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(to right, 
        transparent 0%, 
        var(--pink) 30%, 
        var(--accent) 70%, 
        transparent 100%);
    }
    
    .text {
      font-size: 22px;
      line-height: 1.5;
      margin: 20px 0;
      opacity: 0;
      transform: translateY(30px);
      animation: textAppear 1s forwards var(--delay);
      text-align: center;
      font-weight: 400;
    }
    
    .signature {
      font-family: 'Marck Script', cursive;
      font-size: 26px;
      color: var(--pink);
      margin-top: 30px;
      text-align: right;
      background: linear-gradient(to right, var(--pink), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .canvas-container {
      position: relative;
      width: 240px;
      height: 240px;
      margin: 20px auto;
      filter: drop-shadow(0 0 15px rgba(217, 38, 255, 0.4));
    }
    
    #cherryCanvas {
      position: absolute;
      top: 0;
      left: 0;
    }
    
    /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
    @keyframes envelopeFloat {
      0%, 100% { transform: translateY(0) rotate(-1deg); }
      50% { transform: translateY(-10px) rotate(1deg); }
    }
    
    @keyframes envelopeFlapOpen {
      0% { transform: rotateX(0deg); }
      40% { transform: rotateX(160deg); }
      60% { transform: rotateX(160deg); }
      80% { transform: rotateX(160deg) translateY(-30px); }
      100% { transform: rotateX(160deg) translateY(-200px); opacity: 0; }
    }
    
    @keyframes envelopeDisappear {
      to { opacity: 0; display: none; }
    }
    
    @keyframes cardAppear {
      to { opacity: 1; transform: scale(1); }
    }
    
    @keyframes textAppear {
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes cherryPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    @keyframes glow {
      0%, 100% { opacity: 0.7; }
      50% { opacity: 1; }
    }
  </style>
</head>
<body>
  <!-- –ö–æ–Ω–≤–µ—Ä—Ç -->
  <div class="envelope-container">
    <div class="envelope">
      <div class="envelope-stamp">üçí</div>
    </div>
  </div>
  
  <!-- –û—Ç–∫—Ä—ã—Ç–∫–∞ -->
  <div class="card">
    <p class="text" style="--delay: 3.5s">–î–æ—Ä–æ–≥–æ–π –≤–Ω—É—á–æ–∫,</p>
    
    <div class="canvas-container">
      <canvas id="cherryCanvas" width="240" height="240"></canvas>
    </div>
    
    <p class="text" style="--delay: 4s">–ü—Ä–∏–º–∏ —ç—Ç—É –≤–∏—à–µ–Ω–∫—É –∫–∞–∫ —Å–∏–º–≤–æ–ª –Ω–∞—à–µ–π –æ—Å–æ–±–µ–Ω–Ω–æ–π —Å–≤—è–∑–∏!</p>
    <p class="text" style="--delay: 4.3s">–ü—É—Å—Ç—å –≤ —Ç–≤–æ–µ–π –∂–∏–∑–Ω–∏ –±—É–¥–µ—Ç –º–Ω–æ–≥–æ —Å–ª–∞–¥–∫–∏—Ö –º–æ–º–µ–Ω—Ç–æ–≤.</p>
    
    <div class="signature" style="--delay: 4.6s">
      –° –ª—é–±–æ–≤—å—é,<br>
      –î–µ–¥ –≤ —Ç—Ä—É—Å–∞—Ö üë¥ü©≥
    </div>
  </div>

  <script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    const cherryCanvas = document.getElementById('cherryCanvas');
    const cherryCtx = cherryCanvas.getContext('2d');
    const centerX = cherryCanvas.width / 2;
    const centerY = cherryCanvas.height / 2;

    // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∏—à–µ–Ω–∫–∏
    const cherry = {
      x: centerX,
      y: centerY + 20,
      radius: 40, // –†–∞–∑–º–µ—Ä —è–≥–æ–¥
      stemLength: 70,
      stemCurve: 40,
      leafSize: 45
    };

    // –¢–æ—á–∫–∏ –¥–ª—è –∫–æ–Ω—Ç—É—Ä–∞ –≤–∏—à–µ–Ω–∫–∏ (–¥–≤–µ —è–≥–æ–¥—ã, —Å—Ç–µ–±–µ–ª—å, –ª–∏—Å—Ç)
    const pointsLeft = [];
    const pointsRight = [];
    const stemPoints = [];
    const leafPoints = [];
    const numPoints = 50;
    const stemSteps = 20;
    const leafSteps = 20;

    // –ö–æ–Ω—Ç—É—Ä –ª–µ–≤–æ–π —è–≥–æ–¥—ã
    for (let i = 0; i < numPoints; i++) {
      const angle = (Math.PI * 2 * i) / numPoints;
      pointsLeft.push([
        cherry.x - cherry.radius / 2 + Math.cos(angle) * cherry.radius,
        cherry.y + Math.sin(angle) * cherry.radius
      ]);
    }

    // –ö–æ–Ω—Ç—É—Ä –ø—Ä–∞–≤–æ–π —è–≥–æ–¥—ã
    for (let i = 0; i < numPoints; i++) {
      const angle = (Math.PI * 2 * i) / numPoints;
      pointsRight.push([
        cherry.x + cherry.radius / 2 + Math.cos(angle) * cherry.radius,
        cherry.y + Math.sin(angle) * cherry.radius
      ]);
    }

    // –¢–æ—á–∫–∏ –¥–ª—è —Å—Ç–µ–±–ª—è
    for (let i = 0; i <= stemSteps; i++) {
      const t = i / stemSteps;
      const x = cherry.x + (cherry.x - cherry.stemCurve - cherry.x) * t;
      const y = (cherry.y - cherry.radius) + (cherry.y - cherry.radius - cherry.stemLength - (cherry.y - cherry.radius)) * t;
      stemPoints.push([x, y]);
    }

    // –¢–æ—á–∫–∏ –¥–ª—è –ª–∏—Å—Ç–∞
    for (let i = 0; i <= leafSteps; i++) {
      const angle = (Math.PI * 2 * i) / leafSteps;
      leafPoints.push([
        cherry.x - 15 + Math.cos(angle) * cherry.leafSize,
        cherry.y - cherry.radius - cherry.stemLength / 2 + 5 + Math.sin(angle) * (cherry.leafSize / 2)
      ]);
    }

    // –û–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Å–µ —Ç–æ—á–∫–∏ –≤ –æ–¥–Ω—É –ª–∏–Ω–∏—é
    const allPoints = [
      ...pointsLeft, // –õ–µ–≤–∞—è —è–≥–æ–¥–∞
      ...pointsRight, // –ü—Ä–∞–≤–∞—è —è–≥–æ–¥–∞
      ...stemPoints, // –°—Ç–µ–±–µ–ª—å
      ...leafPoints // –õ–∏—Å—Ç
    ];

    let drawProgress = 0;
    const drawSpeed = 0.005; // –°–∫–æ—Ä–æ—Å—Ç—å —Ä–∏—Å–æ–≤–∞–Ω–∏—è –ª–∏–Ω–∏–∏
    let totalPoints = allPoints.length;

    // –†–∏—Å–æ–≤–∞–Ω–∏–µ –≤–∏—à–µ–Ω–∫–∏
    function drawCherry() {
      cherryCtx.clearRect(0, 0, cherryCanvas.width, cherryCanvas.height);

      // –†–∏—Å—É–µ–º –ª–∏–Ω–∏—é –ø–æ –∫–æ–Ω—Ç—É—Ä—É
      cherryCtx.beginPath();
      const pointsToDraw = Math.floor(totalPoints * drawProgress);
      for (let i = 0; i < pointsToDraw && i < totalPoints; i++) {
        if (i === 0) cherryCtx.moveTo(allPoints[i][0], allPoints[i][1]);
        else cherryCtx.lineTo(allPoints[i][0], allPoints[i][1]);
      }

      // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–µ–∫—É—â–∏–π —Ü–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—á–∞—Å—Ç–∫–∞
      if (drawProgress < 0.33) {
        cherryCtx.strokeStyle = "#ff2d6d"; // –¶–≤–µ—Ç —è–≥–æ–¥
      } else if (drawProgress < 0.66) {
        cherryCtx.strokeStyle = "#ff2d6d"; // –¶–≤–µ—Ç —è–≥–æ–¥
      } else if (drawProgress < 0.9) {
        cherryCtx.strokeStyle = "#4a8f2a"; // –¶–≤–µ—Ç —Å—Ç–µ–±–ª—è
      } else {
        cherryCtx.strokeStyle = "#4a8f2a"; // –¶–≤–µ—Ç –ª–∏—Å—Ç–∞
      }
      cherryCtx.lineWidth = 2;
      cherryCtx.stroke();

      // –ó–∞–ø–æ–ª–Ω—è–µ–º —è–≥–æ–¥—ã, —Å—Ç–µ–±–µ–ª—å –∏ –ª–∏—Å—Ç –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–Ω—Ç—É—Ä–∞
      if (drawProgress >= 1) {
        // –õ–µ–≤–∞—è —è–≥–æ–¥–∞
        cherryCtx.beginPath();
        for (let i = 0; i < pointsLeft.length; i++) {
          if (i === 0) cherryCtx.moveTo(pointsLeft[i][0], pointsLeft[i][1]);
          else cherryCtx.lineTo(pointsLeft[i][0], pointsLeft[i][1]);
        }
        cherryCtx.closePath();
        const gradientLeft = cherryCtx.createRadialGradient(
          cherry.x - cherry.radius / 2, cherry.y - 10, 10,
          cherry.x - cherry.radius / 2, cherry.y, cherry.radius
        );
        gradientLeft.addColorStop(0, "#ff2d6d");
        gradientLeft.addColorStop(1, "#a00034");
        cherryCtx.fillStyle = gradientLeft;
        cherryCtx.fill();

        // –ü—Ä–∞–≤–∞—è —è–≥–æ–¥–∞
        cherryCtx.beginPath();
        for (let i = 0; i < pointsRight.length; i++) {
          if (i === 0) cherryCtx.moveTo(pointsRight[i][0], pointsRight[i][1]);
          else cherryCtx.lineTo(pointsRight[i][0], pointsRight[i][1]);
        }
        cherryCtx.closePath();
        const gradientRight = cherryCtx.createRadialGradient(
          cherry.x + cherry.radius / 2, cherry.y - 10, 10,
          cherry.x + cherry.radius / 2, cherry.y, cherry.radius
        );
        gradientRight.addColorStop(0, "#ff2d6d");
        gradientRight.addColorStop(1, "#a00034");
        cherryCtx.fillStyle = gradientRight;
        cherryCtx.fill();

        // –°—Ç–µ–±–µ–ª—å
        cherryCtx.beginPath();
        for (let i = 0; i < stemPoints.length; i++) {
          if (i === 0) cherryCtx.moveTo(stemPoints[i][0], stemPoints[i][1]);
          else cherryCtx.lineTo(stemPoints[i][0], stemPoints[i][1]);
        }
        cherryCtx.strokeStyle = "#4a8f2a";
        cherryCtx.lineWidth = 5;
        cherryCtx.stroke();

        // –õ–∏—Å—Ç
        cherryCtx.beginPath();
        for (let i = 0; i < leafPoints.length; i++) {
          if (i === 0) cherryCtx.moveTo(leafPoints[i][0], leafPoints[i][1]);
          else cherryCtx.lineTo(leafPoints[i][0], leafPoints[i][1]);
        }
        cherryCtx.closePath();
        const leafGradient = cherryCtx.createLinearGradient(
          cherry.x - 30, cherry.y - cherry.radius - cherry.stemLength / 2,
          cherry.x + 15, cherry.y - cherry.radius - cherry.stemLength / 2 + 30
        );
        leafGradient.addColorStop(0, "#7cba4a");
        leafGradient.addColorStop(1, "#4a8f2a");
        cherryCtx.fillStyle = leafGradient;
        cherryCtx.fill();

        // –ë–ª–µ—Å–∫ –Ω–∞ —è–≥–æ–¥–∞—Ö
        cherryCtx.fillStyle = "rgba(255,255,255,0.3)";
        cherryCtx.beginPath();
        cherryCtx.arc(
          cherry.x - cherry.radius / 2 + cherry.radius / 3,
          cherry.y - cherry.radius / 3,
          cherry.radius / 6,
          0, Math.PI * 2
        );
        cherryCtx.fill();
        cherryCtx.beginPath();
        cherryCtx.arc(
          cherry.x + cherry.radius / 2 + cherry.radius / 3,
          cherry.y - cherry.radius / 3,
          cherry.radius / 6,
          0, Math.PI * 2
        );
        cherryCtx.fill();
      }
    }

    // –ê–Ω–∏–º–∞—Ü–∏—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è
    function animateDraw() {
      drawProgress = Math.min(drawProgress + drawSpeed, 1);
      drawCherry();

      if (drawProgress < 1) {
        requestAnimationFrame(animateDraw);
      } else {
        startCherryPulse();
      }
    }

    // –ü—É–ª—å—Å–∞—Ü–∏—è –≤–∏—à–µ–Ω–∫–∏
    function startCherryPulse() {
      cherryCanvas.style.animation = "cherryPulse 1.5s infinite ease-in-out";

      // –î–æ–±–∞–≤–ª—è–µ–º —Å–≤–µ—á–µ–Ω–∏–µ
      function pulseGlow() {
        const scale = parseFloat(getComputedStyle(cherryCanvas).transform.split(',')[3] || 1);
        const glowIntensity = (scale - 1) * 30;
        cherryCanvas.style.filter = `drop-shadow(0 0 ${glowIntensity}px rgba(217, 38, 255, 0.5))`;
        requestAnimationFrame(pulseGlow);
      }

      pulseGlow();
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    function init() {
      setTimeout(() => {
        animateDraw();
      }, 1000);
    }

    window.addEventListener('load', init);
  </script>
</body>
</html>
