<html lang="ru">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Валентинка для Кирюши</title>
 <style>
 * {
 margin:0;
 padding:0;
 box-sizing: border-box;
 }

 body {
 width:100vw;
 height:100vh;
 overflow: hidden;
 background: linear-gradient(45deg, #ff99cc0%, #000100%);
 display: flex;
 justify-content: center;
 align-items: center;
 position: relative;
 }

 #gradient {
 position: absolute;
 width:100%;
 height:100%;
 background: linear-gradient(45deg, #ff99cc0%, #000100%);
 z-index:0;
 }

 .words {
 position: absolute;
 font-family: Arial, sans-serif;
 font-size:24px;
 color: rgba(255,255,255,0.1);
 opacity:0;
 animation: fadeInOut5s infinite;
 }

 .main-text {
 font-family: 'Arial', sans-serif;
 font-size:48px;
 color: #fff;
 text-align: center;
 z-index:1;
 }

 .click-hint {
 font-size:18px;
 color: rgba(255,255,255,0.3);
 margin-top:20px;
 text-align: center;
 }

 @keyframes fadeInOut {
0%,100% { opacity:0; }
50% { opacity:1; }
 }

 #heart {
 position: absolute;
 width:200px;
 height:200px;
 }

 .particles {
 position: absolute;
 width:100%;
 height:100%;
 }

 .particle {
 position: absolute;
 color: #ff99cc;
 font-size:12px;
 }

 .restart-btn {
 position: fixed;
 bottom:20px;
 padding:10px20px;
 background: rgba(255,255,255,0.1);
 border: none;
 border-radius:5px;
 color: #fff;
 cursor: pointer;
 font-size:16px;
 }
 </style>
</head>
<body>
 <div id="gradient"></div>
 <div class="main-text">Люблю тебя♥️</div>
 <div class="click-hint">нажми</div>
 <canvas id="heart"></canvas>
 <div class="particles"></div>
 <button class="restart-btn" onclick="restart()">Начать сначала</button>

 <script>
 let stage =1;
 let canvas = document.getElementById('heart');
 let ctx = canvas.getContext('2d');
 let particles = [];

 // Настройки canvas function resizeCanvas() {
 canvas.width = window.innerWidth;
 canvas.height = window.innerHeight;
 }
 resizeCanvas();
 window.addEventListener('resize', resizeCanvas);

 // Этап1: Плавающие слова function createFloatingWords() {
 const words = ['Любимая', 'Моя звезда', 'Счастье'];
 const word = document.createElement('div');
 word.className = 'words';
 word.textContent = words[Math.floor(Math.random() * words.length)];
 word.style.left = Math.random() * window.innerWidth + 'px';
 word.style.top = Math.random() * window.innerHeight + 'px';
 document.body.appendChild(word);
 word.style.animation = `fadeInOut ${Math.random() *3 +2}s linear infinite`;
 setTimeout(() => {
 word.remove();
 createFloatingWords();
 },5000);
 }

 // Этап2: Переход function transition() {
 document.body.style.transition = 'all1.5s ease-out';
 document.body.style.transform = 'translateY(-100%)';
 setTimeout(() => {
 document.body.style.background = '#000';
 stage =3;
 drawNeonHeart();
 },1500);
 }

 // Этап3: Неоновое сердце function drawNeonHeart() {
 ctx.clearRect(0,0, canvas.width, canvas.height);
 // Рисование контура сердца ctx.beginPath();
 ctx.moveTo(canvas.width/2, canvas.height/2 -100);
 ctx.bezierCurveTo(
 canvas.width/2 -60, canvas.height/2 -100 -100,
 canvas.width/2 -100, canvas.height/2 +100,
 canvas.width/2, canvas.height/2 +100 );
 ctx.bezierCurveTo(
 canvas.width/2 +100, canvas.height/2 +100,
 canvas.width/2 +60, canvas.height/2 -100 -100,
 canvas.width/2, canvas.height/2 -100 );
 ctx.closePath();
 ctx.strokeStyle = '#ff99cc';
 ctx.lineWidth =2;
 ctx.stroke();
 // Неоновый эффект ctx.shadowColor = '#ff99cc';
 ctx.shadowBlur =20;
 setTimeout(() => {
 stage =4;
 pulsingHeart();
 },1000);
 }

 // Этап4: Пульсация сердца function pulsingHeart() {
 let scale =1;
 let growing = true;
 function animate() {
 ctx.clearRect(0,0, canvas.width, canvas.height);
 ctx.save();
 ctx.translate(canvas.width/2, canvas.height/2);
 ctx.scale(scale, scale);
 ctx.strokeStyle = 'rgba(255,153,204,0.5)';
 ctx.lineWidth =2;
 ctx.stroke(neonHeartPath());
 ctx.restore();
 if (growing) {
 scale +=0.02;
 if (scale >1.2) {
 growing = false;
 }
 } else {
 scale -=0.02;
 if (scale <1) {
 growing = true;
 }
 }
 requestAnimationFrame(animate);
 }
 animate();
 }

 // Этап5: Взрыв частиц function particleExplosion(x, y) {
 const wordList = ['Люблю', 'Спасибо', 'Ты — моя радость', 'Звезда', 'Счастье'];
 const particleCount =50;
 for (let i =0; i < particleCount; i++) {
 const particle = document.createElement('div');
 particle.className = 'particle';
 particle.textContent = wordList[Math.floor(Math.random() * wordList.length)];
 particle.style.left = x + 'px';
 particle.style.top = y + 'px';
 const angle = Math.random() * Math.PI *2;
 const velocity = Math.random() *5 +2;
 const dx = Math.cos(angle) * velocity;
 const dy = Math.sin(angle) * velocity;
 particle.style.animation = `particle ${Math.random() *0.5 +1}s linear infinite`;
 document.body.appendChild(particle);
 setTimeout(() => {
 particle.remove();
 },2000);
 }
 }

 function neonHeartPath() {
 ctx.beginPath();
 ctx.moveTo(canvas.width/2, canvas.height/2 -100);
 ctx.bezierCurveTo(
 canvas.width/2 -60, canvas.height/2 -200,
 canvas.width/2 -100, canvas.height/2,
 canvas.width/2, canvas.height/2 +100 );
 ctx.bezierCurveTo(
 canvas.width/2 +100, canvas.height/2,
 canvas.width/2 +60, canvas.height/2 -200,
 canvas.width/2, canvas.height/2 -100 );
 ctx.closePath();
 return ctx;
 }

 function restart() {
 location.reload();
 }

 // События document.addEventListener('DOMContentLoaded', createFloatingWords);
 document.addEventListener('click', (e) => {
 if (stage ===1) {
 transition();
 } else if (stage ===4) {
 const rect = canvas.getBoundingClientRect();
 const x = e.clientX - rect.left;
 const y = e.clientY - rect.top;
 particleExplosion(x, y);
 }
 });

 // Начальная анимация createFloatingWords();
 </script>
</body>
</html>
